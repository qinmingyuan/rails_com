Turbo.clearCache()
document.documentElement.classList.remove('is-clipped')
<% if defined? return_to %>
Turbo.visit('<%= return_to.html_safe %>', { action: 'replace' })
<% elsif defined? query %>
let url = new URL(location)
<% query.each do |k, v| %>
url.searchParams.set('<%= k %>', '<%= v %>')
<% end %>
Turbo.visit(url, { action: 'replace' })
<% else %>
Turbo.visit(location.href, { action: 'replace' })
<% end %>
